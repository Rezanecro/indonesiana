$(function(){setTimeout(function(){$("#preload").hide(),$(".container").css({visibility:"visible"})},3e3),$('a.top[href^="#"]').on("click",function(e){e.preventDefault(),$("html,body").animate({scrollTop:$(this.hash).offset().top},1e3)}),menumobile=$('<div id="menu-button" class="menu-mobile"><a href="#">Menu</a></div>'),menumobileClone=menumobile.clone(!0),menumobile.remove();var e=$("#detail .recommendation");function n(){var n=$(window).width();if(console.log(n),n<=800){console.log("mobile"),0==$("#menu-button").length&&$("header .col:nth-of-type(3)").prepend(menumobileClone),function(){menubutton=$(".menu-mobile"),menu=$(".menu"),$(".menu-mobile a").filter(function(){return"Close"===$.trim($.text(this))}).length&&$(".menu-mobile a").html("Menu");function e(){$(".menu-collapsed").length?menu.removeClass("menu-collapsed"):menu.removeClass("menu-expanded").addClass("menu-collapsed").delay(1e3).queue(function(){$(".sub").css({display:"none"})})}e(),$(".menu-mobile").on("click",function(n){n.preventDefault(),n.stopImmediatePropagation(),function(){menu.hasClass("menu-expanded")?(menubutton.removeClass("close"),e()):(menubutton.addClass("close"),menu.addClass("menu-expanded").removeClass("menu-collapsed"));$(".close").length?$(".menu-mobile a").html("Close"):$(".menu-mobile a").html("Menu")}(),$(document).on("click",function(n){n.preventDefault(),n.stopPropagation(),"menu-mobile"!=n.target.className&&e()})}),$(".menu a").off("click").on("click",function(e){return e.stopImmediatePropagation(),!0}),$(".has-sub").off("click").on("click",function(e){e.preventDefault(),e.stopPropagation();var n=$(this).find(".sub");$(".sub").not(n).css({display:"none"}),n.css({display:"block"})})}();new Swiper(".swiper-container.menu",{slidesPerView:4,spaceBetween:1,centeredSlides:!0,initialSlide:0,freeMode:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-menu.swiper-button-next",prevEl:".swiper-menu.swiper-button-prev"}});$("nav.menu.swiper-container").length||($("nav.menu").addClass("swiper-container swiper-container-horizontal swiper-container-ios swiper-container-android").children().addClass("swiper-wrapper").children().addClass("swiper-slide swiper-slide-active"),$("main.profile .swiper-container.navigation").addClass("swiper-container swiper-container-horizontal swiper-container-ios swiper-container-android").children().addClass("swiper-wrapper").children().addClass("swiper-slide swiper-slide-active")),e.insertAfter(".content .card:nth-child(1)")}else $("#menu-button").length&&($(".menu").removeClass("menu-collapsed menu-expanded"),menubutton.removeClass("close"),$("#menu-button").detach()),$(".menu li").hover(function(){$(this).find(".sub").stop().slideDown(200)},function(){$(this).find(".sub").stop().slideUp(200)}),console.log("desktop"),$("nav.menu").removeClass("swiper-container swiper-container-horizontal swiper-container-ios swiper-container-android").children().removeClass("swiper-wrapper").children().removeClass("swiper-slide swiper-slide-active"),e.appendTo("main.profile .wrapper > *:nth-child(3) > .wrapper")}n(),$(window).on("load resize",function(){window.responsive,clearTimeout(window.responsive),window.responsive=setTimeout(function(){n()},0)});var t=$(".tooltip");t.each(function(){$(this).data("title",$(this).attr("title")),$(this).removeAttr("title")}),t.on("mouseenter",function(e){e.stopImmediatePropagation(),$(this).after('<div class="tooltip-content">'+$(this).data("title")+"</div>");var n=t.find(".tooltip-content"),i=$(this).find(n);n.not(i).remove()}),t.on("mouseleave",function(){$(".tooltip-content").remove()}),t.on("mouseleave",function(){$(".tooltip-content").remove()});var a=$(".toolbar.user.active"),o=$(".sign");a.length?console.log("logged"):(console.log("login"),$("header nav .button.default").on("click",function(e){console.log("popup"),e.stopImmediatePropagation(),o.addClass("active"),$(document).on("click",function(e){$(e.target).closest(o).length?console.log("di dalam"):o.removeClass("active")}),$(".popup a.register").on("click",function(e){e.preventDefault(),$(".content").removeClass("active").next().addClass("active")}),$(".popup a.login").on("click",function(e){e.preventDefault(),$(".content").removeClass("active").prev().addClass("active"),console.log("login")})}));function s(e){return new Promise(function(n,i){var t=new XMLHttpRequest;t.open("GET",e,!0),t.onload=function(){200==t.status?n(JSON.parse(t.response)):i(t.statusText)},t.onerror=function(){i(t.statusText)},t.send()})}if($(document).on("click",".button.network",function(e){e.preventDefault(),"follow"==$(this).data("follow")?($(this).data("follow","followed"),$(this).removeClass("follow").addClass("followed").attr("data-follow","followed").html("Followed")):($(this).data("follow","follow"),$(this).addClass("follow").removeClass("followed").attr("data-follow","follow").html("Follow"))}),$("#new-request").length){let e=1;var l=$("main");$(window).data("ajaxready",!0).on("scroll",function(){if(l.length){if(0==$(window).data("ajaxready"))return;if($(window).scrollTop()+$(window).height()>l.offset().top+l.height())$(window).data("ajaxready",!1),s("../src/ajax/index-favorites-"+e+".json").then(function(e){return r(e),s("../src/ajax/index-favorites-2.json")}).then(function(e){return r(e),s("../src/ajax/index-favorites-3.json")}).then(function(e){return r(e),s("../src/ajax/index-recentpost-1.json")}).then(function(e){return c(e),s("../src/ajax/index-recentpost-2.json")}).then(function(e){c(e)})}});let n=document.getElementById("new-request");function r(e){var t="";for(i=0;i<e.length;i++)for(t+='<section id="update" class="feed type-4"><div class="wrapper"><div class="title"><a href="'+e[i].urlCategory+'">'+e[i].category+'</a><a class="more" href="'+e[i].urlCategory+'">Selengkapnya</a></div><div class="wrapper clearfix">',i=0;i<e.length;i++)t+='<div class="col w-25"><div class="card"><div class="wrapper"><span class="date">'+e[i].date+'</span><h3><a href="'+e[i].urlAuthor+'"></a></h3><a href="'+e[i].image+'"><img src="'+e[i].image+'" alt="'+e[i].imageCaption+'"></a><h1><a href="'+e[i].urlArticle+'">'+e[i].title+'</a></h1><p><a href="'+e[i].title+'">'+e[i].description+"</a></p></div></div></div>";n.insertAdjacentHTML("beforeend",t)}$("#new-request").find("#update")&&$("#new-request").after('<section class="feed type-2">\n      <div class="wrapper clearfix">\n        <div class="col w-40 sidebar">\n          <div class="wrapper">\n            \x3c!-- <div class="title">\n              <a href="">\n                Populer\n              </a>\n              <a class="more" href="">\n                Selengkapnya\n              </a>\n            </div> --\x3e\n            <div class="wrapper">\n            </div>\n          </div>\n        </div>\n        <div class="col w-60 thumbnail-lg">\n          <div class="wrapper">\n            <div class="title">\n              <a href="">\n                Terakhir\n              </a>\n              <a class="more" href="">\n                Selengkapnya\n              </a>\n            </div>\n            <div id="recent" class="wrapper">\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>');let t=document.getElementById("recent");function c(e){var n="";for(i=0;i<e.length;i++)n+='<div class="card"><div class="wrapper clearfix"><span class="date">'+e[i].date+'</span><h3><a href="'+e[i].urlAuthor+'">'+e[i].author+'</a></h3><a href="'+e[i].image+'"><img class="image-center" src="'+e[i].image+'" alt="'+e[i].imageCaption+'"></a><h1><a href="'+e[i].urlArticle+'">'+e[i].title+"</a></h1></div></div>";t.insertAdjacentHTML("beforeend",n)}}if($("#profile-list-article").length){var d=document.getElementById("profile-list-article");window.onload=function(){var e;(e=new XMLHttpRequest).open("GET","../src/ajax/profile-artikel-populer.json"),e.onload=function(){var n=JSON.parse(e.responseText);console.log(n),function(e){var n="";for(i=0;i<e.length;i++)n+='<div class="card"><div class="wrapper"><span class="date">'+e[i].date+'</span><a href=""><img src='+e[i].image+' /></a><h1><a href="">'+e[i].title+'</a></h1><p><a href="">'+e[i].description+"</a></p></div></div>";d.insertAdjacentHTML("beforeend",n),console.log("profileArticlePopulerRender")}(n)},e.send()}}if($("#detail").length){$(".image img").each(function(){var e=$(this).offset().top;$(this).data("orig-offset",e)}),$(window).on("scroll",function(){var e=window.pageYOffset||document.documentElement.scrollTop;$(".image img").each(function(){var n=$(this).data("orig-offset");if(e>=n){var i=(e-n)/$(window).height()*100;console.log(i),$(this).css({transform:"translate3d(0,"+i+"%, 0)"})}})});var u=$("#comment"),p=$("#comment textarea"),m=$("form .username"),f=$("form .username h2");f.html("Sampaikan sesuatu..."),p.on("focus",function(){u.addClass("active"),f.html(f.attr("data-user")),$(".typing").length?m.removeClass("typing"):m.addClass("typing")}).on("blur",function(){f.html("Sampaikan sesuatu..."),m.removeClass("typing"),u.removeClass("active")})}});